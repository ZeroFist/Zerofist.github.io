<!DOCTYPE html><html lang="ko-KR" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="스타트업 코드(StartupCode)" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="스타트업(Startup) 코드란?" /><meta property="og:description" content="스타트업(Startup) 코드란?" /><link rel="canonical" href="https://zerofist.github.io//posts/StartupCode/" /><meta property="og:url" content="https://zerofist.github.io//posts/StartupCode/" /><meta property="og:site_name" content="ZeroFist’s Software Engineering Knowledge Storage" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-15T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="스타트업 코드(StartupCode)" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="k9n3TqutGkNvqf7uv9HP04BF1yRBxsowePxu32o6gBk" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-15T00:00:00+09:00","datePublished":"2022-06-15T00:00:00+09:00","description":"스타트업(Startup) 코드란?","headline":"스타트업 코드(StartupCode)","mainEntityOfPage":{"@type":"WebPage","@id":"https://zerofist.github.io//posts/StartupCode/"},"url":"https://zerofist.github.io//posts/StartupCode/"}</script><title>스타트업 코드(StartupCode) | ZeroFist's Software Engineering Knowledge Storage</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZeroFist's Software Engineering Knowledge Storage"><meta name="application-name" content="ZeroFist's Software Engineering Knowledge Storage"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/cotes2020/chirpy-images/main/assets/img/green_galaxy.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">ZeroFist's Software Engineering Knowledge Storage</a></div><div class="site-subtitle font-italic">Software Engineering Knowledge Repo.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/ZeroFist" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['semi109502','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>스타트업 코드(StartupCode)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>스타트업 코드(StartupCode)</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1655218800" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-06-15 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/username">zerofist</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="675 단어"> <em>3 분</em>읽는 시간</span></div></div></div><div class="post-content"><h1 id="스타트업startup-코드란">스타트업(Startup) 코드란?</h1><p>프로그램이 작동되기 위해서 필요한 준비 과정을 위한 코드로 여러 초기화 작업과 C에서 사용할 메모리(스택, 힙) 등을 할당하고 마지막에 main() 함수를 호출하여 프로그램을 동작하게 한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>운영체제(OS)가 있는 경우의 main 호출 과정

1. Shell 상에서 프로그램 수행
2. fork로 새로운 프로세스 복사
3. 시스템 콜 함수 sys_execve() 호출
=&gt; 사용자 모드에서 커널 모드로 전환
4. do_execve() =&gt; open_exec()로 파일 정보를 읽어 적합한 binary handler 실행
5. flush_old_exec()가 기본 프로세스 정보를 삭제하고 현재 프로세스를 current 로 설정
6. 새로운 프로세스에 사용할 메모리 레이아웃 설정
7. 동적 링커 메모리에 로딩
8. start_thread()=&gt; elf  인터프리터 실행
9. sys_execve() 종료 =&gt; 커널 모드에서 사용자 모드로 전환
10. reschedule() =&gt; context switching 수행
11. _start_ 코드로 main 호출

</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre>운영체제(Non-OS)가 없는 경우의 main 호출 과정

프로그램이 작동되기 전 하드웨어의 초기화는 부트 코드에서, 임베디드 코드의 초기화는 스타트업 코드에서 처리한다

1. 모든 인터럽트 중지
2. 초기화된 데이터를 ROM to RAM 복사
3. 초기화되지 않은 데이터 영역 0으로 초기화
4. 스택을 위한 공간을 할당하고 초기화
5. 프로세서의 스택 포인터 초기화
6. 힙을 생성하고 초기화
7. 인터럽트 활성화
8. main() 함수 호출

세부 설명
1. 모든 인터럽트 중지
=&gt; 스타트업 코드 실행 중에 인터럽트가 발생하여 ISR(Interrput Service Routine)으로 분기하면 해당 동작이 어떤 결과를 초래하는지 예측하기 어렵다
따라서 인터럽트나 워치독(Watchdog)을 Disable 시킨다

2. 초기화된 데이터를 ROM to RAM 복사
=&gt; ROM에 있는 data segment를 RAM으로 복사한다
bss segment의 경우 0으로  초기화 한다

최종적으로 해당 과정들을 통해 임베디드 프로그램(C 프로그램) main()을 호출하고 스타트업 코드로 돌아오게 한다
그 다음코드는 레이블 0만 반복하여 메모리가 임의의 주소로 빠지는 일을 막는다 
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/embedded-engineering/'>Embedded Engineering</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/embedded-engineering/" class="post-tag no-text-decoration" >Embedded Engineering</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EC%8A%A4%ED%83%80%ED%8A%B8%EC%97%85+%EC%BD%94%EB%93%9C%28StartupCode%29+-+ZeroFist%27s+Software+Engineering+Knowledge+Storage&url=https%3A%2F%2Fzerofist.github.io%2F%2Fposts%2FStartupCode%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EC%8A%A4%ED%83%80%ED%8A%B8%EC%97%85+%EC%BD%94%EB%93%9C%28StartupCode%29+-+ZeroFist%27s+Software+Engineering+Knowledge+Storage&u=https%3A%2F%2Fzerofist.github.io%2F%2Fposts%2FStartupCode%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fzerofist.github.io%2F%2Fposts%2FStartupCode%2F&text=%EC%8A%A4%ED%83%80%ED%8A%B8%EC%97%85+%EC%BD%94%EB%93%9C%28StartupCode%29+-+ZeroFist%27s+Software+Engineering+Knowledge+Storage" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/N%EA%B3%BC-M-(3)/">N과 M (3)</a><li><a href="/posts/%EC%82%BC%EA%B0%81%ED%98%95%EA%B3%BC-%EC%84%B8-%EB%B3%80/">삼각형과 세 변</a><li><a href="/posts/%EC%98%88%EC%82%B0/">예산</a><li><a href="/posts/%EB%A1%9C%EB%98%90/">로또</a><li><a href="/posts/%EC%9D%B4%EC%B9%9C%EC%88%98/">이친수</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/codingtest/">CodingTest</a> <a class="post-tag" href="/tags/embedded-engineering/">Embedded Engineering</a> <a class="post-tag" href="/tags/dp/">DP</a> <a class="post-tag" href="/tags/back-tracking/">back-tracking</a> <a class="post-tag" href="/tags/recursive/">recursive</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/bfs/">BFS</a> <a class="post-tag" href="/tags/greedy/">Greedy</a> <a class="post-tag" href="/tags/book-review/">Book Review</a> <a class="post-tag" href="/tags/priority-queue/">Priority Queue</a></div></div></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/CodeOptimization/"><div class="card-body"> <em class="small" data-ts="1654959600" data-df="YYYY-MM-DD" > 2022-06-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>코드 최적화(CodeOptimization)</h3><div class="text-muted small"><p> 코드 최적화 최적화의 등가교환(Trade-Off) 크기 vs 속도 성능 vs 가독성 임베디드 소프트웨어의 최적화 규칙 최선의 알고리즘, 최적의 코드를 찾아라 하드웨어 특성(프로세서), 개발 툴 등을 잘 이해하고 활용하라 헤더 인클루드 중복성 제거 #ifndef FUNC_H// 정의가 되어있지 않을 경우 인클루드(딱 한번만 인클루드 하게 됨)...</p></div></div></a></div><div class="card"> <a href="/posts/Embedded_C/"><div class="card-body"> <em class="small" data-ts="1654959600" data-df="YYYY-MM-DD" > 2022-06-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Embedded C 프로그래밍</h3><div class="text-muted small"><p> Embedded C 프로그래밍 ISR(Interrupt Service Routine) Interrupt handler 라고도 불리고 주로 외부 하드웨어적 요인이나 설정한 소프트웨어적 변경사항에 의해 발생하는 것을 사용자가 정의하고, 그 일이 발생할 경우 현재의 작업을 중단하고 우선 처리하는 작업을 말한다. 반대의 경우로는 폴링(Polling)이 있...</p></div></div></a></div><div class="card"> <a href="/posts/MemoryMap/"><div class="card-body"> <em class="small" data-ts="1654959600" data-df="YYYY-MM-DD" > 2022-06-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Memory Map 에 관하여...</h3><div class="text-muted small"><p> Memory Map 에 관하여… Symbol 이란? Symbol은 Memory Map에서 Linker가 알아볼 수 있는 최소 단위를 말한다 Linker의 Linking 과정 이후에 자신만의 주소를 갖게되는 단위를 말한다 ELF File 형식에서 Linker에 의해 Symbol table을 두며 파일 단위의 관점에서 볼 때 참조되는 모든 Symbol...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/MemoryMap/" class="btn btn-outline-primary" prompt="이전 글"><p>MemoryMap</p></a> <a href="/posts/%EB%A1%9C%ED%94%84/" class="btn btn-outline-primary" prompt="다음 글"><p>로프</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/username">zerofist</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/codingtest/">CodingTest</a> <a class="post-tag" href="/tags/embedded-engineering/">Embedded Engineering</a> <a class="post-tag" href="/tags/dp/">DP</a> <a class="post-tag" href="/tags/back-tracking/">back-tracking</a> <a class="post-tag" href="/tags/recursive/">recursive</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/bfs/">BFS</a> <a class="post-tag" href="/tags/greedy/">Greedy</a> <a class="post-tag" href="/tags/book-review/">Book Review</a> <a class="post-tag" href="/tags/priority-queue/">Priority Queue</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
